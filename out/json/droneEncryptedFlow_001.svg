<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="355px" preserveAspectRatio="none" style="width:1059px;height:355px;" version="1.1" viewBox="0 0 1059 355" width="1059px" zoomAndPan="magnify"><defs><filter height="300%" id="f13qdacg5kbwce" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="154" x="449.25" y="28.708">Drone broadcasts</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="35" x2="35" y1="75.25" y2="312.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="234" x2="234" y1="75.25" y2="312.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="535.5" x2="535.5" y1="75.25" y2="312.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1008.5" x2="1008.5" y1="75.25" y2="312.0469"/><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="5" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="12" y="59.9482">Drone</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="5" y="311.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="12" y="331.042">Drone</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="41" x="212" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="219" y="59.9482">App</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="41" x="212" y="311.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="219" y="331.042">App</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="58" x="504.5" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="511.5" y="59.9482">Server</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="58" x="504.5" y="311.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="511.5" y="331.042">Server</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="74" x="969.5" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="976.5" y="59.9482">AuditLog</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="74" x="969.5" y="311.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="976.5" y="331.042">AuditLog</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="0" x2="1052.5" y1="85.25" y2="85.25"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35.5" x2="77.5" y1="107.3828" y2="107.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="77.5" x2="77.5" y1="107.3828" y2="120.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="36.5" x2="77.5" y1="120.3828" y2="120.3828"/><polygon fill="#A80036" points="46.5,116.3828,36.5,120.3828,46.5,124.3828,42.5,120.3828" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="42.5" y="102.3169">sleep(1000)</text><polygon fill="#A80036" points="222.5,145.5156,232.5,149.5156,222.5,149.5156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35.5" x2="233.5" y1="149.5156" y2="149.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="42.5" y="144.4497">broadcast(droneEncrypted)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="35.5" x2="77.5" y1="178.6484" y2="178.6484"/><line style="stroke:#A80036;stroke-width:1.0;" x1="77.5" x2="77.5" y1="178.6484" y2="191.6484"/><line style="stroke:#A80036;stroke-width:1.0;" x1="36.5" x2="77.5" y1="191.6484" y2="191.6484"/><polygon fill="#A80036" points="46.5,187.6484,36.5,191.6484,46.5,195.6484,42.5,191.6484" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="42.5" y="173.5825">sleep(1000)</text><polygon fill="#A80036" points="222.5,216.7813,232.5,220.7813,222.5,220.7813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35.5" x2="233.5" y1="220.7813" y2="220.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="42.5" y="215.7153">broadcast(droneEncrypted)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="35.5" x2="77.5" y1="249.9141" y2="249.9141"/><line style="stroke:#A80036;stroke-width:1.0;" x1="77.5" x2="77.5" y1="249.9141" y2="262.9141"/><line style="stroke:#A80036;stroke-width:1.0;" x1="36.5" x2="77.5" y1="262.9141" y2="262.9141"/><polygon fill="#A80036" points="46.5,258.9141,36.5,262.9141,46.5,266.9141,42.5,262.9141" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="42.5" y="244.8481">sleep(1000)</text><polygon fill="#A80036" points="222.5,288.0469,232.5,292.0469,222.5,292.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35.5" x2="233.5" y1="292.0469" y2="292.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="42.5" y="286.981">broadcast(droneEncrypted)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="0" x2="1052.5" y1="300.0469" y2="300.0469"/><!--MD5=[e5de31d5de3c64da301ee1bbcf74df93]
@startuml droneEncryptedFlow
' Trusted API Server could be run by drone manufactorer or by a comunity.
' Will submit Audit Logs for trancpanency when authorities try to resolve drone pilot location

newpage Drone broadcasts
Drone -> Drone : sleep(1000)
Drone -\ App : broadcast(droneEncrypted)
Drone -> Drone : sleep(1000)
Drone -\ App : broadcast(droneEncrypted)
Drone -> Drone : sleep(1000)
Drone -\ App : broadcast(droneEncrypted)

newpage App Locates
App -> App ++ : UI Tap "LocateDrone"
App -> App: parse(droneEncrypted)
App -> Server ++ : Decrypt("EncryptedBase64Payload==")
Server -\ AuditLog : {"client": "joe@yyz-security.ca", "request": "base64-sha256-sum=="}
Server -> App - - : {"location": { "lat": 4.4, "longitude": 44.7 }
deactivate App

newpage Logger Responds
AuditLog -\ Server: {"saved": "base64-sha256-sum=="}
@enduml

@startuml droneEncryptedFlow

newpage Drone broadcasts
Drone -> Drone : sleep(1000)
Drone -\ App : broadcast(droneEncrypted)
Drone -> Drone : sleep(1000)
Drone -\ App : broadcast(droneEncrypted)
Drone -> Drone : sleep(1000)
Drone -\ App : broadcast(droneEncrypted)

newpage App Locates
App -> App ++ : UI Tap "LocateDrone"
App -> App: parse(droneEncrypted)
App -> Server ++ : Decrypt("EncryptedBase64Payload==")
Server -\ AuditLog : {"client": "joe@yyz-security.ca", "request": "base64-sha256-sum=="}
Server -> App - - : {"location": { "lat": 4.4, "longitude": 44.7 }
deactivate App

newpage Logger Responds
AuditLog -\ Server: {"saved": "base64-sha256-sum=="}
@enduml

PlantUML version 1.2020.26(Mon Dec 21 12:45:07 EST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: CA
--></g></svg>
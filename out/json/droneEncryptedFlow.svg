<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="104px" preserveAspectRatio="none" style="width:1059px;height:104px;" version="1.1" viewBox="0 0 1059 104" width="1059px" zoomAndPan="magnify"><defs><filter height="300%" id="f13qdacg5kbwce" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="35" x2="35" y1="40.2969" y2="61.2969"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="234" x2="234" y1="40.2969" y2="61.2969"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="535.5" x2="535.5" y1="40.2969" y2="61.2969"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1008.5" x2="1008.5" y1="40.2969" y2="61.2969"/><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="12" y="24.9951">Drone</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="5" y="60.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="12" y="80.292">Drone</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="41" x="212" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="219" y="24.9951">App</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="41" x="212" y="60.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="219" y="80.292">App</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="58" x="504.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="511.5" y="24.9951">Server</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="58" x="504.5" y="60.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="511.5" y="80.292">Server</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="74" x="969.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="976.5" y="24.9951">AuditLog</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="74" x="969.5" y="60.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="976.5" y="80.292">AuditLog</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="0" x2="1052.5" y1="50.2969" y2="50.2969"/><!--MD5=[e5de31d5de3c64da301ee1bbcf74df93]
@startuml droneEncryptedFlow
' Trusted API Server could be run by drone manufactorer or by a comunity.
' Will submit Audit Logs for trancpanency when authorities try to resolve drone pilot location

newpage Drone broadcasts
Drone -> Drone : sleep(1000)
Drone -\ App : broadcast(droneEncrypted)
Drone -> Drone : sleep(1000)
Drone -\ App : broadcast(droneEncrypted)
Drone -> Drone : sleep(1000)
Drone -\ App : broadcast(droneEncrypted)

newpage App Locates
App -> App ++ : UI Tap "LocateDrone"
App -> App: parse(droneEncrypted)
App -> Server ++ : Decrypt("EncryptedBase64Payload==")
Server -\ AuditLog : {"client": "joe@yyz-security.ca", "request": "base64-sha256-sum=="}
Server -> App - - : {"location": { "lat": 4.4, "longitude": 44.7 }
deactivate App

newpage Logger Responds
AuditLog -\ Server: {"saved": "base64-sha256-sum=="}
@enduml

@startuml droneEncryptedFlow

newpage Drone broadcasts
Drone -> Drone : sleep(1000)
Drone -\ App : broadcast(droneEncrypted)
Drone -> Drone : sleep(1000)
Drone -\ App : broadcast(droneEncrypted)
Drone -> Drone : sleep(1000)
Drone -\ App : broadcast(droneEncrypted)

newpage App Locates
App -> App ++ : UI Tap "LocateDrone"
App -> App: parse(droneEncrypted)
App -> Server ++ : Decrypt("EncryptedBase64Payload==")
Server -\ AuditLog : {"client": "joe@yyz-security.ca", "request": "base64-sha256-sum=="}
Server -> App - - : {"location": { "lat": 4.4, "longitude": 44.7 }
deactivate App

newpage Logger Responds
AuditLog -\ Server: {"saved": "base64-sha256-sum=="}
@enduml

PlantUML version 1.2020.26(Mon Dec 21 12:45:07 EST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: CA
--></g></svg>
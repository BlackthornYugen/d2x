<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="313px" preserveAspectRatio="none" style="width:1059px;height:313px;" version="1.1" viewBox="0 0 1059 313" width="1059px" zoomAndPan="magnify"><defs><filter height="300%" id="f13qdacg5kbwce" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="106" x="473.25" y="28.708">App Locates</text><rect fill="#FFFFFF" filter="url(#f13qdacg5kbwce)" height="134.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="229.5" y="116.3828"/><rect fill="#FFFFFF" filter="url(#f13qdacg5kbwce)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="530.5" y="192.6484"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="35" x2="35" y1="75.25" y2="269.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="234" x2="234" y1="75.25" y2="269.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="535.5" x2="535.5" y1="75.25" y2="269.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1008.5" x2="1008.5" y1="75.25" y2="269.9141"/><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="5" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="12" y="59.9482">Drone</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="5" y="268.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="12" y="288.9092">Drone</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="41" x="212" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="219" y="59.9482">App</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="41" x="212" y="268.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="219" y="288.9092">App</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="58" x="504.5" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="511.5" y="59.9482">Server</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="58" x="504.5" y="268.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="511.5" y="288.9092">Server</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="74" x="969.5" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="976.5" y="59.9482">AuditLog</text><rect fill="#FEFECE" filter="url(#f13qdacg5kbwce)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="74" x="969.5" y="268.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="976.5" y="288.9092">AuditLog</text><rect fill="#FFFFFF" filter="url(#f13qdacg5kbwce)" height="134.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="229.5" y="116.3828"/><rect fill="#FFFFFF" filter="url(#f13qdacg5kbwce)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="530.5" y="192.6484"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="0" x2="1052.5" y1="86.25" y2="86.25"/><line style="stroke:#A80036;stroke-width:1.0;" x1="234.5" x2="281.5" y1="103.3828" y2="103.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="281.5" x2="281.5" y1="103.3828" y2="116.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="240.5" x2="281.5" y1="116.3828" y2="116.3828"/><polygon fill="#A80036" points="250.5,112.3828,240.5,116.3828,250.5,120.3828,246.5,116.3828" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="246.5" y="98.3169">UI Tap "LocateDrone"</text><line style="stroke:#A80036;stroke-width:1.0;" x1="239.5" x2="281.5" y1="150.5156" y2="150.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="281.5" x2="281.5" y1="150.5156" y2="163.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="240.5" x2="281.5" y1="163.5156" y2="163.5156"/><polygon fill="#A80036" points="250.5,159.5156,240.5,163.5156,250.5,167.5156,246.5,163.5156" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="246.5" y="145.4497">parse(droneEncrypted)</text><polygon fill="#A80036" points="518.5,188.6484,528.5,192.6484,518.5,196.6484,522.5,192.6484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="239.5" x2="524.5" y1="192.6484" y2="192.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="246.5" y="187.5825">Decrypt("EncryptedBase64Payload==")</text><polygon fill="#A80036" points="996.5,217.7813,1006.5,221.7813,996.5,221.7813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="540.5" x2="1007.5" y1="221.7813" y2="221.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="444" x="547.5" y="216.7153">{"client": "joe@yyz-security.ca", "request": "base64-sha256-sum=="}</text><polygon fill="#A80036" points="245.5,246.9141,235.5,250.9141,245.5,254.9141,241.5,250.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="239.5" x2="534.5" y1="250.9141" y2="250.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="267" x="251.5" y="245.8481">{"location": { "lat": 4.4, "longitude": 44.7 }</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="0" x2="1052.5" y1="258.9141" y2="258.9141"/><!--MD5=[e5de31d5de3c64da301ee1bbcf74df93]
@startuml droneEncryptedFlow
' Trusted API Server could be run by drone manufactorer or by a comunity.
' Will submit Audit Logs for trancpanency when authorities try to resolve drone pilot location

newpage Drone broadcasts
Drone -> Drone : sleep(1000)
Drone -\ App : broadcast(droneEncrypted)
Drone -> Drone : sleep(1000)
Drone -\ App : broadcast(droneEncrypted)
Drone -> Drone : sleep(1000)
Drone -\ App : broadcast(droneEncrypted)

newpage App Locates
App -> App ++ : UI Tap "LocateDrone"
App -> App: parse(droneEncrypted)
App -> Server ++ : Decrypt("EncryptedBase64Payload==")
Server -\ AuditLog : {"client": "joe@yyz-security.ca", "request": "base64-sha256-sum=="}
Server -> App - - : {"location": { "lat": 4.4, "longitude": 44.7 }
deactivate App

newpage Logger Responds
AuditLog -\ Server: {"saved": "base64-sha256-sum=="}
@enduml

@startuml droneEncryptedFlow

newpage Drone broadcasts
Drone -> Drone : sleep(1000)
Drone -\ App : broadcast(droneEncrypted)
Drone -> Drone : sleep(1000)
Drone -\ App : broadcast(droneEncrypted)
Drone -> Drone : sleep(1000)
Drone -\ App : broadcast(droneEncrypted)

newpage App Locates
App -> App ++ : UI Tap "LocateDrone"
App -> App: parse(droneEncrypted)
App -> Server ++ : Decrypt("EncryptedBase64Payload==")
Server -\ AuditLog : {"client": "joe@yyz-security.ca", "request": "base64-sha256-sum=="}
Server -> App - - : {"location": { "lat": 4.4, "longitude": 44.7 }
deactivate App

newpage Logger Responds
AuditLog -\ Server: {"saved": "base64-sha256-sum=="}
@enduml

PlantUML version 1.2020.26(Mon Dec 21 12:45:07 EST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: CA
--></g></svg>